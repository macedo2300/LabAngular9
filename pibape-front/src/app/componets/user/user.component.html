<mat-toolbar>
    <mat-icon>account_circle</mat-icon>
    <span>Pibape - Administração</span>
</mat-toolbar>


<mat-tab-group>
  <mat-tab > 
        <ng-template mat-tab-label>
          <mat-icon>list</mat-icon>
            List Users
        </ng-template>
        <mat-card >
            <table mat-table [dataSource] = "users" class="full-width">
              

              <ng-container matColumnDef="photo">
                <th mat-header-cell *matHeaderCellDef> </th>
                <td mat-cell *matCellDef="let user"> 
                   <div *ngIf="user.image!= null">
                     <img  (click) ="viewDialog(user)" 
                     width="40" 
                     height="40"
                     src="data:image/jpg;base64,{{user.image}}">
                   </div>
                   <div *ngIf="user.image == null">
                      <input type="file" name="photo" (change)="uploadPhoto($event,user)">
                   </div> 
                  
                  
                </td>
              </ng-container>

              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let user"> {{user.id}} </td>
              </ng-container>

              <ng-container matColumnDef="nome">
                <th mat-header-cell *matHeaderCellDef> Nome </th>
                <td mat-cell *matCellDef="let user"> {{user.nome}} </td>
              </ng-container>

              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> E-mail </th>
                <td mat-cell *matCellDef="let user"> {{user.email}} </td>
              </ng-container>

              <ng-container matColumnDef="password">
                <th mat-header-cell *matHeaderCellDef> Password </th>
                <td mat-cell *matCellDef="let user"> {{user.password}} </td>
              </ng-container>

              <ng-container matColumnDef="profile">
                <th mat-header-cell *matHeaderCellDef> Profile </th>
                <td mat-cell *matCellDef="let user"> {{user.profile}} </td>
              </ng-container>
              
              <ng-container matColumnDef="favorite">
                <th mat-header-cell *matHeaderCellDef> Favorite </th>
                <td mat-cell *matCellDef="let user">  
                  <a href="#" (click)="favoritar(user)">
                    <mat-icon>{{user.favorite? 'favorite':'favorite_border'}}</mat-icon>
                  </a>
                </td>
              </ng-container>


              <tr mat-header-row *matHeaderRowDef="colunas"></tr>
  ''''''''''''<tr mat-row *matRowDef="let row; columns: colunas;"></tr>

            </table>          

            <mat-paginator
                [length] ="totalElements"
                [pageSize] = "sizePage"
                [pageSizeOptions] = "pageSizeOptions"
                (page) = "paginador($event)"
           >
            </mat-paginator>
        </mat-card>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon>face</mat-icon>
      User
    </ng-template>

    <mat-card class="half-width">
      <mat-card-title>New User</mat-card-title>  
      <form [formGroup] = "formulario" (ngSubmit) = "sumit()" >
        <mat-form-field class="full-width">
          <mat-label>Nome </mat-label>
          <input formControlName = "nome" matInput placeholder="Digite seu Nome">
        </mat-form-field>
    
        <mat-form-field class="full-width">
            <mat-label>E-mail </mat-label>
            <input formControlName = "email" matInput placeholder="Digite seu E-mail">
        </mat-form-field>
    
        <mat-form-field class="full-width">
            <mat-label>Password </mat-label>
            <input type="password" formControlName = "password" matInput placeholder="Digite seu Password">
        </mat-form-field>
    
        <mat-form-field class="full-width">
            <mat-label>Profile</mat-label>
            <mat-select formControlName = "profile">
              <mat-option  *ngFor="let profile of profiles" [value]="profile.value">
                {{profile.viewValue}}
              </mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-raised-button color="primary"> Adicionar</button>
      </form>

    </mat-card>
    
    
    

  </mat-tab>
</mat-tab-group>


